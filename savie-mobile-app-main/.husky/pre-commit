#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ§ª Running pre-commit checks..."

# Run Flutter analyzer
echo "ğŸ” Running Flutter analyzer..."
flutter analyze --no-fatal-infos || exit 1

# Format imports
echo "ğŸ“ Sorting imports..."
dart run import_sorter:main || exit 1

# Check iOS build
if [ -x "$(command -v xcrun)" ]; then
  echo "ğŸ Running iOS build check..."
  ./scripts/ios_build_check.sh
fi

echo "âœ… All pre-commit checks passed!" 